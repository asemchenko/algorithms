Вся память выделяется из массива char[1024*1024]
Все выделенные блоки памяти описываются дескрипторами, которые расположены перед выделенным
блоком. Используется простая амортизация - если это возможно, то память выделяется с n-кратным
запасом.(n задается константой MULT_COEF). 
Освобождение памяти происходит путем установки соответствующего флага дескриптора. Затем делается попытка склеить текущий освобожденный блок с расположенным прямо за ним в памяти(это повторяется рекурсивно пока возможно). Перевыделение(realloc) памяти очень простое - если в запрошенном
на перевыделение блоке есть место(память выделяется с запасом, читай выше), то делается отметка в дескрипторе и возвращается указатель на тот же блок. Иначе подбирается другой блок и данные копируются в него. 
